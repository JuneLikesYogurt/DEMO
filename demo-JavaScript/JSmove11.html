<!DOCTYPE html>
<html>
<head>
	<title>去掉offset</title>
	<meta charset="utf-8">
	<style type="text/css">
		div {
			width: 200px;
			height: 200px;
			margin:20px;
			float:left;
			background: red;
			border: 10px solid black;
			font-size:14px;
		}
	</style>
	<script type="text/javascript">
		window.onload = function () {
			var oDiv1 = document.getElementById('div1');
			oDiv1.onmouseover = function (){
				startMove(this,'height',400);
			}
			oDiv1.onmouseout = function () {
				startMove(this,'height',200);
			}

			var oDiv2 = document.getElementById('div2');
			oDiv2.onmouseover = function (){
				startMove(this,'width',400);
			}
			oDiv2.onmouseout = function () {
				startMove(this,'width',200);
			}

			var oDiv3 = document.getElementById('div3');
			oDiv3.onmouseover = function (){
				startMove(this,'fontSize',50);
			}
			oDiv3.onmouseout = function () {
				startMove(this,'fontSize',14);
			}
		};

		function getStyle(obj,name) {
			if(obj.currentStyle) {
				return obj.currentStyle[name];
			}else {
				return getComputedStyle(obj,false)[name];
			}
		}

		function startMove (obj,attr,iTarget) {
			clearInterval(obj.timer);
			obj.timer = setInterval (function () {
				var cur = parseInt(getStyle(obj,attr));

				var speed = (iTarget-cur)/6;
				speed = speed>0?Math.ceil(speed):Math.floor(speed);

				if(cur == iTarget) {
					clearInterval(obj.timer);
				}
				else{
					obj.style[attr] = cur + speed + 'px';
				}
			},30);
		}
	</script>
</head>
<body>
	<div id="div1">变高</div>
	<div id="div2">变宽</div>
	<div id="div3">sdfsafae</div>
</body>
</html>